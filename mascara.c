#include<stdio.h>
#include<stdlib.h>
#include<math.h>


#define T 200

static char *t[200] = {
//"200 200 2 1",
//" 	c #000000",
//".	c #FFFFFF",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................                                                                ................................................................",
"........................................................................                                                               .................................................................",
"........................................................................                                                               .................................................................",
"........................................................................                                                               .................................................................",
".......................................................................                                                                .................................................................",
".......................................................................                                                                .................................................................",
".......................................................................      .................                 ..................      .................................................................",
".......................................................................      .................                 ..................     ..................................................................",
".......................................................................     ..................                 .................      ..................................................................",
"......................................................................      ..................                ..................      ..................................................................",
"......................................................................      ..................                ..................      ..................................................................",
"......................................................................      .................                 ..................      ..................................................................",
"......................................................................      .................                 ..................     ...................................................................",
"......................................................................     ..................                 .................      ...................................................................",
".....................................................................      ..................                ..................      ...................................................................",
".....................................................................      ..................                ..................      ...................................................................",
"............................................................................................                 ...........................................................................................",
"............................................................................................                 ...........................................................................................",
"............................................................................................                 ...........................................................................................",
"............................................................................................                ............................................................................................",
"............................................................................................                ............................................................................................",
"...........................................................................................                 ............................................................................................",
"...........................................................................................                 ............................................................................................",
"...........................................................................................                 ............................................................................................",
"...........................................................................................                 ............................................................................................",
"...........................................................................................                .............................................................................................",
"..........................................................................................                 .............................................................................................",
"..........................................................................................                 .............................................................................................",
"..........................................................................................                 .............................................................................................",
"..........................................................................................                 .............................................................................................",
"..........................................................................................                ..............................................................................................",
"..........................................................................................                ..............................................................................................",
".........................................................................................                 ..............................................................................................",
".........................................................................................                 ..............................................................................................",
".........................................................................................                 ..............................................................................................",
".........................................................................................                ...............................................................................................",
".........................................................................................                ...............................................................................................",
"........................................................................................                 ...............................................................................................",
"........................................................................................                 ...............................................................................................",
"........................................................................................                 ...............................................................................................",
"........................................................................................                ................................................................................................",
"........................................................................................                ................................................................................................",
".......................................................................................                 ................................................................................................",
".......................................................................................                 ................................................................................................",
".......................................................................................                 ................................................................................................",
".......................................................................................                .................................................................................................",
".......................................................................................                .................................................................................................",
"......................................................................................                 .................................................................................................",
"......................................................................................                 .................................................................................................",
"......................................................................................                 .................................................................................................",
"......................................................................................                ..................................................................................................",
"......................................................................................                ..................................................................................................",
".....................................................................................                 ..................................................................................................",
".....................................................................................                 ..................................................................................................",
".....................................................................................                 ..................................................................................................",
".....................................................................................                ...................................................................................................",
".....................................................................................                ...................................................................................................",
"....................................................................................                 ...................................................................................................",
"....................................................................................                 ...................................................................................................",
"............................................................................                                 ...........................................................................................",
"...........................................................................                                  ...........................................................................................",
"...........................................................................                                  ...........................................................................................",
"...........................................................................                                  ...........................................................................................",
"...........................................................................                                  ...........................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................",
"........................................................................................................................................................................................................"};


void imprime(double M[T][T])
{
	int i, j;
	
	for(i = 0; i < T; i++)
	{
		for(j = 0; j < T; j++)
			printf("%lf\t", M[i][j]);
		
		printf("\n");
	}
	
	printf("\n\n");
}

	
void main(int arq , char **arqv)
{
	FILE *in;
	double M[T][T] = {0}, P[T][T] = {0};
	int i, j, k = 0, c = 1;
	
	
	in = fopen(arqv[1], "w");	
	
	
	for(i = 0; i < T; i++)
	{
		P[0][i] = 100;
		for(j = 0; j < T; j++)
		{
			if(t[i][j] == '.')
				M[i][j] = 0;
			
			else
			{
				M[i][j] = 1;
			}
		}
	}
	
	
	
	//printf("\nMatriz Mascara:\n");
	//imprime(M);
	
	
	//printf("\nMatriz Potencial:\n");
	//imprime(M);
	
	while(k <= 20000)
	{
		for(i = 1; i < T-1; i++)
		{
			for(j = 1; j < T-1; j++)
			{
				if(M[i][j] == 0)
		
					P[i][j] = (P[i+1][j]+P[i-1][j]+P[i][j+1]+P[i][j-1])/4.0;
			}
		}	
	
		k++;
	}
	
	
	//printf("\nMatriz Potencial Atualizada:\n");
	//imprime(P); 
	
	
	//printando no arquivo a matriz P aumentada
	for(i = T-1; i >= 0; i--)
	{
		for(j = T-1; j >= 0; j--)
	
			fprintf(in, "%lf\t", P[i][j]);
			
		fprintf(in, "\n");
	}
	
	fclose(in);
}
